#!/usr/bin/env bash
#
# Install initial packages.

echo "running first init on {{ .chezmoi.os }}"

echo "Installing Dependencies"
{{ if eq .chezmoi.os "darwin" }}
if ! command -v brew >/dev/null 2>&1; then
  echo " -> Installing Homebrew"
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi

echo " -> Installing coreutils"
brew install coreutils

if ! command -v tmux >/dev/null 2>&1; then
  echo " -> Installing tmux"
  brew install tmux
fi

if ! command -v fzf >/dev/null 2>&1; then
  echo " -> Installing fzf"
  brew install fzf
fi

if ! command -v nvim >/dev/null 2>&1; then
  echo " -> Installing nvim"
  brew install nvim
fi

if ! command -v kubectl >/dev/null 2>&1; then
  echo " -> Installing kubectl"
  brew install kubectl
fi

if ! command -v zplug >/dev/null 2>&1; then
  echo " -> Installing zplug"
  brew install zplug
fi

if ! command -v fd >/dev/null 2>&1; then
  echo " -> Installing fd"
  brew install fd
fi
{{ end }}

{{ if eq .chezmoi.os "linux" }}
echo "Linux depedencies are unmanaged by chezmoi dotfiles right now."
{{ end }}
